#!/bin/bash
# æ›´æ–°ä¸º networkservice è‡ªåŠ¨è·å–æ´»åŠ¨é“¾æ¥

# è‹¥å‘½ä»¤å¤±è´¥è®©è„šæœ¬é€€å‡º 
set -o errexit
# è‹¥æœªè®¾ç½®çš„å˜é‡è¢«ä½¿ç”¨è®©è„šæœ¬é€€å‡º 
set -o nounset

# è®¾ç½®ç¯å¢ƒå˜é‡
PATH=$PATH:/usr/local/bin/:~/.user_shell_scripts

# è·å–æ´»åŠ¨è¿æ¥
networkservice | cut -d',' -f1 | while read -r i; do 
  # è®¾ç½®ç½‘ç»œæœåŠ¡ DHCP è‡ªåŠ¨è·å–
  networksetup -setdhcp "$i" ;
  # è®¾ç½® dns ä¸ºç©º
  networksetup -setdnsservers "$i" empty ;
done

# é€šçŸ¥
osascript -e 'display notification "networksetup" with title "ğŸ—¼ç½‘ç»œæœåŠ¡ IP å·²è¿˜åŸ!" sound name "Glass"'

exit